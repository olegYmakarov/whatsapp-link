<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä WhatsApp-—Å—Å—ã–ª–∫–∏</title>
  <style>
    body {
      font-family: sans-serif;
      max-width: 600px;
      margin: 50px auto;
      padding: 20px;
      background-color: #f7f7f7;
    }
    input, textarea, select {
      width: 100%;
      margin-top: 5px;
      margin-bottom: 15px;
      padding: 10px;
      font-size: 16px;
    }
    button {
      padding: 10px 20px;
      font-size: 16px;
      margin-right: 10px;
      cursor: pointer;
    }
    #output {
      background-color: #e8e8e8;
    }
    .lang-select {
      text-align: right;
      margin-bottom: 10px;
    }
  </style>
</head>
<body>
  <div class="lang-select">
    <label for="lang">üåê</label>
    <select id="lang" onchange="switchLang()">
      <option value="ru">üá∑üá∫ –†—É—Å—Å–∫–∏–π</option>
      <option value="en">üá∫üá∏ English</option>
      <option value="he">üáÆüá± ◊¢◊ë◊®◊ô◊™</option>
    </select>
  </div>

  <h2 id="title">–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä WhatsApp-—Å—Å—ã–ª–∫–∏</h2>

  <label id="phoneLabel" for="number">–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ (–≤ –ª—é–±–æ–º —Ñ–æ—Ä–º–∞—Ç–µ):</label>
  <input type="text" id="number" placeholder="+972 55 77 33 457">

  <label id="messageLabel" for="message">–¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è:</label>
  <textarea id="message" rows="6" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è..."></textarea>

  <button onclick="generate()" id="generateBtn">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É</button>

  <label for="output" id="resultLabel">–†–µ–∑—É–ª—å—Ç–∞—Ç:</label>
  <input type="text" id="output" readonly>

  <button onclick="copyLink()" id="copyBtn">–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É</button>
  <a id="preview" href="#" target="_blank">–û—Ç–∫—Ä—ã—Ç—å —Å—Å—ã–ª–∫—É</a>

  <script>
    const translations = {
      ru: {
        title: "–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä WhatsApp-—Å—Å—ã–ª–∫–∏",
        phoneLabel: "–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ (–≤ –ª—é–±–æ–º —Ñ–æ—Ä–º–∞—Ç–µ):",
        messageLabel: "–¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è:",
        generate: "–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É",
        copy: "–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É",
        open: "–û—Ç–∫—Ä—ã—Ç—å —Å—Å—ã–ª–∫—É",
        result: "–†–µ–∑—É–ª—å—Ç–∞—Ç:",
        alertEmpty: "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –æ–±–∞ –ø–æ–ª—è.",
        alertCopied: "–°—Å—ã–ª–∫–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞!",
        alertError: "–û—à–∏–±–∫–∞ –ø—Ä–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏."
      },
      en: {
        title: "WhatsApp Link Generator",
        phoneLabel: "Phone number (any format):",
        messageLabel: "Message text:",
        generate: "Generate link",
        copy: "Copy link",
        open: "Open link",
        result: "Result:",
        alertEmpty: "Please fill in both fields.",
        alertCopied: "Link copied to clipboard!",
        alertError: "Copy failed."
      },
      he: {
        title: "◊û◊ó◊ï◊ú◊ú ◊ß◊ô◊©◊ï◊®◊ô◊ù ◊ú÷æWhatsApp",
        phoneLabel: "◊û◊°◊§◊® ◊ò◊ú◊§◊ï◊ü (◊ë◊õ◊ú ◊§◊ï◊®◊û◊ò):",
        messageLabel: "◊ò◊ß◊°◊ò ◊î◊î◊ï◊ì◊¢◊î:",
        generate: "◊¶◊ï◊® ◊ß◊ô◊©◊ï◊®",
        copy: "◊î◊¢◊™◊ß ◊ß◊ô◊©◊ï◊®",
        open: "◊§◊™◊ó ◊ß◊ô◊©◊ï◊®",
        result: "◊™◊ï◊¶◊ê◊î:",
        alertEmpty: "◊ê◊†◊ê ◊û◊ú◊ê ◊ê◊™ ◊©◊†◊ô ◊î◊©◊ì◊ï◊™.",
        alertCopied: "◊î◊ß◊ô◊©◊ï◊® ◊î◊ï◊¢◊™◊ß!",
        alertError: "◊©◊í◊ô◊ê◊î ◊ë◊î◊¢◊™◊ß◊î."
      }
    };

    let currentLang = "ru";

    function switchLang() {
      currentLang = document.getElementById("lang").value;
      const t = translations[currentLang];

      document.getElementById("title").textContent = t.title;
      document.getElementById("phoneLabel").textContent = t.phoneLabel;
      document.getElementById("messageLabel").textContent = t.messageLabel;
      document.getElementById("generateBtn").textContent = t.generate;
      document.getElementById("copyBtn").textContent = t.copy;
      document.getElementById("preview").textContent = t.open;
      document.getElementById("resultLabel").textContent = t.result;
    }

    function generate() {
      const rawNumber = document.getElementById("number").value;
      const number = rawNumber.replace(/\D/g, ''); // –æ—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã
      const text = document.getElementById("message").value.trim();

      if (!number || !text) {
        alert(translations[currentLang].alertEmpty);
        return;
      }

      const encodedText = encodeURIComponent(text);
      const link = `https://wa.me/${number}?text=${encodedText}`;
      document.getElementById("output").value = link;
      document.getElementById("preview").href = link;
    }

    function copyLink() {
      const link = document.getElementById("output").value;
      if (link) {
        navigator.clipboard.writeText(link)
          .then(() => alert(translations[currentLang].alertCopied))
          .catch(() => alert(translations[currentLang].alertError));
      }
    }

    window.onload = switchLang;
  </script>
</body>
</html>
